2023-11-26 12:00:58.008 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:00:58.478 +02:00 [DBG] Hosting starting
2023-11-26 12:00:59.139 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:00:59.215 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:00:59.217 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:00:59.219 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:00:59.221 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:00:59.223 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:00:59.225 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:00:59.227 +02:00 [INF] Hosting environment: Development
2023-11-26 12:00:59.230 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:00:59.232 +02:00 [DBG] Hosting started
2023-11-26 12:00:59.542 +02:00 [DBG] Connection id "0HMVECQBKM9RJ" received FIN.
2023-11-26 12:00:59.545 +02:00 [DBG] Connection id "0HMVECQBKM9RK" received FIN.
2023-11-26 12:00:59.549 +02:00 [DBG] Connection id "0HMVECQBKM9RJ" accepted.
2023-11-26 12:00:59.549 +02:00 [DBG] Connection id "0HMVECQBKM9RK" accepted.
2023-11-26 12:00:59.552 +02:00 [DBG] Connection id "0HMVECQBKM9RJ" started.
2023-11-26 12:00:59.552 +02:00 [DBG] Connection id "0HMVECQBKM9RK" started.
2023-11-26 12:00:59.584 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:00:59.584 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:00:59.684 +02:00 [DBG] Connection id "0HMVECQBKM9RL" accepted.
2023-11-26 12:00:59.828 +02:00 [DBG] Connection id "0HMVECQBKM9RJ" stopped.
2023-11-26 12:00:59.828 +02:00 [DBG] Connection id "0HMVECQBKM9RK" stopped.
2023-11-26 12:00:59.828 +02:00 [DBG] Connection id "0HMVECQBKM9RL" started.
2023-11-26 12:00:59.832 +02:00 [DBG] Connection id "0HMVECQBKM9RK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:00:59.832 +02:00 [DBG] Connection id "0HMVECQBKM9RJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:00:59.942 +02:00 [DBG] Connection 0HMVECQBKM9RL established using the following protocol: "Tls12"
2023-11-26 12:01:00.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:01:00.132 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:01:00.424 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:01:01.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:01:01.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:01:01.004 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:01:01.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 978.6904ms
2023-11-26 12:01:01.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 28.8799ms
2023-11-26 12:01:01.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 80.2369ms
2023-11-26 12:01:01.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:01:01.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 342.3283ms
2023-11-26 12:01:09.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities - -
2023-11-26 12:01:09.619 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:01:09.693 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-26 12:01:09.709 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-11-26 12:01:09.714 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-26 12:01:09.721 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-26 12:01:09.773 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithOutPointsOfIntrestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:01:09.781 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:01:09.784 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:01:09.790 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:01:09.795 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:01:09.797 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:01:09.800 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:01:10.982 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:01:11.368 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:01:13.610 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:01:13.737 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)'
2023-11-26 12:01:14.020 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:01:14.777 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.CityId, p.Description, p.Name
        FROM Cities AS c
        LEFT JOIN PointOfIntrest AS p ON c.Id == p.CityId
        ORDER BY c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-26 12:01:14.906 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:01:15.545 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (628ms).
2023-11-26 12:01:15.563 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:01:15.620 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:01:15.651 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "Cities" AS "c"
LEFT JOIN "PointOfIntrest" AS "p" ON "c"."Id" = "p"."CityId"
ORDER BY "c"."Id"
2023-11-26 12:01:15.724 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "Cities" AS "c"
LEFT JOIN "PointOfIntrest" AS "p" ON "c"."Id" = "p"."CityId"
ORDER BY "c"."Id"
2023-11-26 12:01:15.806 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.905 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.951 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.958 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.963 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.968 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.975 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:01:15.994 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:01:16.003 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:01:16.026 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:01:16.030 +02:00 [FTL] System.Collections.Generic.List`1[CityInfo.API.Entities.City]
2023-11-26 12:01:16.094 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:01:16.111 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-11-26 12:01:16.116 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:01:16.120 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithOutPointsOfIntrestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-26 12:01:16.544 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 6734.0385ms
2023-11-26 12:01:16.548 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-26 12:01:16.550 +02:00 [INF] Reqest /api/cities :6924.5689 ms
2023-11-26 12:01:16.559 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:01:16.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities - - - 200 41 application/json;+charset=utf-8 6956.4339ms
2023-11-26 12:02:14.828 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:02:14.831 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:02:14.840 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:02:14.846 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:02:14.851 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:02:14.853 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:02:14.899 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:02:14.906 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:02:14.911 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:02:14.914 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:02:14.920 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:02:14.925 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:02:14.927 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:02:14.945 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:02:14.978 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:02:14.985 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:02:14.991 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:02:14.995 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:02:14.999 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:02:15.005 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:02:15.011 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:02:15.017 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:02:15.024 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:02:15.027 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:02:15.030 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:02:15.039 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:02:15.053 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:02:15.084 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:02:15.098 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:02:15.203 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfIntrest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:02:15.225 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:02:15.228 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-26 12:02:15.235 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:02:15.238 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:02:15.251 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:02:15.266 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:02:15.274 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.277 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.280 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.283 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.285 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.290 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.293 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:02:15.297 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:02:15.298 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:02:15.300 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:02:15.317 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:02:15.324 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:02:15.325 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:02:15.328 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:02:15.329 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:02:15.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:02:15.345 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 417.5396ms
2023-11-26 12:02:15.347 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:02:15.350 +02:00 [INF] Reqest /api/cities/1 :513.7198 ms
2023-11-26 12:02:15.352 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:02:15.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 200 399 application/json;+charset=utf-8 526.8213ms
2023-11-26 12:02:37.488 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:02:37.844 +02:00 [DBG] Hosting starting
2023-11-26 12:02:38.246 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:02:38.394 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:02:38.396 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:02:38.400 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:02:38.402 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:02:38.407 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:02:38.412 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:02:38.416 +02:00 [INF] Hosting environment: Development
2023-11-26 12:02:38.419 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:02:38.423 +02:00 [DBG] Hosting started
2023-11-26 12:02:38.828 +02:00 [DBG] Connection id "0HMVECR97BLNT" accepted.
2023-11-26 12:02:38.828 +02:00 [DBG] Connection id "0HMVECR97BLNU" accepted.
2023-11-26 12:02:38.833 +02:00 [DBG] Connection id "0HMVECR97BLNT" started.
2023-11-26 12:02:38.833 +02:00 [DBG] Connection id "0HMVECR97BLNU" started.
2023-11-26 12:02:39.202 +02:00 [DBG] Connection id "0HMVECR97BLNV" accepted.
2023-11-26 12:02:39.205 +02:00 [DBG] Connection id "0HMVECR97BLNV" started.
2023-11-26 12:02:39.311 +02:00 [DBG] Connection 0HMVECR97BLNV established using the following protocol: "Tls12"
2023-11-26 12:02:39.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:02:39.629 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:02:40.044 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:02:40.540 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:02:40.540 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:02:40.565 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:02:40.572 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 31.2540ms
2023-11-26 12:02:40.574 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 1078.2777ms
2023-11-26 12:02:40.584 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.0044ms
2023-11-26 12:02:40.659 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:02:41.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 573.4508ms
2023-11-26 12:02:48.888 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-11-26 12:02:48.888 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-11-26 12:02:48.906 +02:00 [DBG] Connection id "0HMVECR97BLNT" stopped.
2023-11-26 12:02:48.906 +02:00 [DBG] Connection id "0HMVECR97BLNU" stopped.
2023-11-26 12:02:48.912 +02:00 [DBG] Connection id "0HMVECR97BLNT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:02:48.912 +02:00 [DBG] Connection id "0HMVECR97BLNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:02:57.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:02:57.117 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:02:57.225 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:02:57.238 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:02:57.244 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:02:57.256 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:02:57.382 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:02:57.390 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:02:57.394 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:02:57.396 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:02:57.400 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:02:57.403 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:02:57.408 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:02:58.875 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:02:58.913 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:02:58.925 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:02:58.930 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:02:58.932 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:02:58.935 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:02:58.944 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:02:58.952 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:02:58.960 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:02:58.965 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:02:58.967 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:02:58.971 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:02:58.973 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:02:59.358 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:03:02.574 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:03:02.909 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:03:03.381 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:03:04.974 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfIntrest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:03:05.253 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:03:05.528 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (259ms).
2023-11-26 12:03:05.597 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:03:05.682 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:03:05.748 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:03:05.899 +02:00 [INF] Executed DbCommand (153ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:03:06.070 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.222 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.300 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.310 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.314 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.321 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.324 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:03:06.362 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:03:06.399 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:03:06.425 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:03:06.497 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:03:06.514 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:03:06.516 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:03:06.524 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:03:06.529 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:03:06.534 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:03:07.123 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 9699.0776ms
2023-11-26 12:03:07.129 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:03:07.133 +02:00 [INF] Reqest /api/cities/1 :10008.5475 ms
2023-11-26 12:03:07.153 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:03:07.173 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 200 399 application/json;+charset=utf-8 10064.9315ms
2023-11-26 12:05:18.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:05:18.098 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:05:18.105 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:05:18.107 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:05:18.111 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:05:18.114 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:05:18.116 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:05:18.121 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:05:18.124 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:05:18.127 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:05:18.131 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:05:18.133 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:05:18.136 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:05:18.164 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:05:18.170 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:05:18.174 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:05:18.177 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:05:18.180 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:05:18.182 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:05:18.185 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:05:18.188 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:05:18.191 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:05:18.194 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:05:18.196 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:05:18.198 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:05:18.199 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:06:01.337 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:06:01.355 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:06:01.358 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-11-26 12:06:01.364 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:06:01.368 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:06:01.372 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:06:01.379 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:06:01.387 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.391 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.396 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.399 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.402 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.406 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.409 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:06:01.413 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:06:01.415 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:06:01.424 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:22.624 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:19:23.137 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:19:23.622 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:19:23.664 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:19:23.932 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:19:23.939 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:19:23.940 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:19:23.941 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:19:23.949 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:19:23.949 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:19:23.949 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:19:23.949 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:19:24.169 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:19:40.372 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:19:41.038 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:19:41.419 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:19:41.481 +02:00 [DBG] Migrating using database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.504 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.534 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.560 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:19:41.575 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-26 12:19:41.579 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.584 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.598 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:19:41.683 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:19:41.687 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.692 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.694 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.694 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.695 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:19:41.695 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-26 12:19:41.695 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.695 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.695 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:19:41.695 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:19:41.695 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.695 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.721 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:19:41.721 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-26 12:19:41.721 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.721 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.723 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:19:41.723 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:19:41.742 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:19:41.742 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.742 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.761 +02:00 [INF] Applying migration '20231126101923_testt'.
2023-11-26 12:19:41.894 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:41.894 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:41.897 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:19:41.902 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:19:41.904 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:19:41.904 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:19:41.904 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfIntrest" ADD "TestId" INTEGER NOT NULL DEFAULT 0;
2023-11-26 12:19:41.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfIntrest" ADD "TestId" INTEGER NOT NULL DEFAULT 0;
2023-11-26 12:19:41.905 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:19:41.905 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:19:41.905 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:19:41.905 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:19:41.905 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:19:41.905 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:19:41.905 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:19:41.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:19:41.906 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:19:41.906 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:19:41.906 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:19:41.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:19:41.906 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:19:41.906 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:19:41.906 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:19:41.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:19:41.906 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:19:41.906 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:19:41.906 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:19:43.140 +02:00 [ERR] Failed executing DbCommand (1,232ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:19:43.143 +02:00 [DBG] Disposing transaction.
2023-11-26 12:19:43.144 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:19:43.144 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:19:43.146 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:21:16.095 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:21:16.764 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:21:17.091 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:21:17.105 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:21:17.274 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:21:17.279 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:21:17.281 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:21:17.281 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:21:17.414 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:21:26.535 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:21:27.219 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:21:27.575 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:21:27.614 +02:00 [DBG] Migrating using database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.621 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.633 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.646 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:21:27.656 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-11-26 12:21:27.659 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.665 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.678 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:21:27.717 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:21:27.721 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.727 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.729 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.730 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.730 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:21:27.730 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-26 12:21:27.730 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.730 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.730 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:21:27.730 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:21:27.731 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.731 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.746 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:21:27.746 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-26 12:21:27.746 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.746 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.746 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:21:27.747 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:21:27.752 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:21:27.752 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.752 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.771 +02:00 [INF] Applying migration '20231126101923_testt'.
2023-11-26 12:21:27.869 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:27.869 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:27.872 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:21:27.875 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:21:27.876 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:21:27.876 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:21:27.877 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfIntrest" ADD "TestId" INTEGER NOT NULL DEFAULT 0;
2023-11-26 12:21:27.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfIntrest" ADD "TestId" INTEGER NOT NULL DEFAULT 0;
2023-11-26 12:21:27.877 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:21:27.877 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:21:27.877 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:21:27.878 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:21:27.878 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:21:27.878 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:21:27.878 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:21:27.878 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:21:27.878 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:21:27.878 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:21:27.878 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:21:27.878 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:21:27.878 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:21:27.878 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:21:27.878 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:21:27.878 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:21:27.878 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:21:27.878 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:21:29.369 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:21:29.374 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:21:29.377 +02:00 [DBG] Disposing transaction.
2023-11-26 12:21:29.378 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:21:29.378 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:21:29.381 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:22:35.631 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:22:36.174 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:22:36.408 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:22:36.419 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:22:36.436 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:22:46.892 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:22:47.305 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:22:47.740 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:22:47.763 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:22:47.959 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:22:47.965 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:22:47.967 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:22:47.967 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:22:48.117 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:23:21.924 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:23:22.366 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:23:22.799 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:23:22.881 +02:00 [DBG] Migrating using database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:22.892 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:22.916 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:22.930 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:23:22.938 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-11-26 12:23:22.940 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:22.945 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:22.961 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:23:23.001 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:23:23.004 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.008 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.012 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.012 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.013 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:23:23.013 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-26 12:23:23.013 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.013 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.013 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:23:23.013 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:23:23.013 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.014 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.038 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:23:23.039 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-26 12:23:23.039 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.039 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.040 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:23:23.041 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:23:23.051 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:23:23.052 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.052 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.076 +02:00 [INF] Applying migration '20231126101923_testt'.
2023-11-26 12:23:23.156 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:23.157 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:23.161 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:23:23.165 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:23:23.167 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:23:23.167 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:23:23.168 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfIntrest" ADD "TestId" INTEGER NOT NULL DEFAULT 0;
2023-11-26 12:23:23.169 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfIntrest" ADD "TestId" INTEGER NOT NULL DEFAULT 0;
2023-11-26 12:23:23.170 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:23:23.170 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:23:23.170 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:23:23.170 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:23:23.170 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:23:23.170 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:23:23.170 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:23:23.171 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:23:23.171 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:23:23.171 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:23:23.171 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:23:23.171 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:23:23.171 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:23:23.171 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:23:23.171 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:23:23.171 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:23:24.474 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:23:24.474 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:23:24.475 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:23:24.480 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:23:24.483 +02:00 [DBG] Disposing transaction.
2023-11-26 12:23:24.484 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo.db'.
2023-11-26 12:23:24.484 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo.db'.
2023-11-26 12:23:24.487 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:28:37.587 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:28:38.240 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:28:38.594 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:28:38.625 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:28:38.765 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:28:38.767 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:28:38.956 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:28:46.049 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:28:46.695 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:28:47.035 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:28:47.080 +02:00 [DBG] Migrating using database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.093 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.121 +02:00 [DBG] An error occurred using the connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.123 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.124 +02:00 [DBG] An error occurred using the connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.125 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.143 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.153 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.173 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2023-11-26 12:28:47.192 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-11-26 12:28:47.258 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-11-26 12:28:47.262 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.269 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.423 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:28:47.430 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:28:47.486 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.486 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.486 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.486 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.486 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-11-26 12:28:47.503 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-11-26 12:28:47.503 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.503 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.506 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.507 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.524 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:28:47.524 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-26 12:28:47.524 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.524 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.525 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:28:47.533 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:28:47.533 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.533 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.536 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:28:47.536 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-26 12:28:47.536 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.536 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.537 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:28:47.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:28:47.545 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:28:47.545 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.546 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.568 +02:00 [INF] Applying migration '20231126102838_test'.
2023-11-26 12:28:47.626 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:47.626 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:47.629 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:28:47.634 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:28:47.635 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.636 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.636 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL
);
2023-11-26 12:28:47.783 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL
);
2023-11-26 12:28:47.784 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.784 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.784 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "CityId" INTEGER NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:28:47.784 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "CityId" INTEGER NOT NULL,
    "TestId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id") ON DELETE CASCADE
);
2023-11-26 12:28:47.784 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.784 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.784 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:28:47.785 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "test" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_test" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "PointOfIntrestId" INTEGER NOT NULL,
    CONSTRAINT "FK_test_PointOfIntrest_PointOfIntrestId" FOREIGN KEY ("PointOfIntrestId") REFERENCES "PointOfIntrest" ("Id") ON DELETE CASCADE
);
2023-11-26 12:28:47.785 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.785 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.785 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_CityId" ON "PointOfIntrest" ("CityId");
2023-11-26 12:28:47.785 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_CityId" ON "PointOfIntrest" ("CityId");
2023-11-26 12:28:47.785 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.785 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.785 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:28:47.786 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:28:47.786 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.786 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.786 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:28:47.786 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_test_PointOfIntrestId" ON "test" ("PointOfIntrestId");
2023-11-26 12:28:47.786 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:28:47.786 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:28:47.786 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231126102838_test', '6.0.0');
2023-11-26 12:28:50.555 +02:00 [INF] Executed DbCommand (2,768ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231126102838_test', '6.0.0');
2023-11-26 12:28:50.558 +02:00 [DBG] Committing transaction.
2023-11-26 12:28:50.572 +02:00 [DBG] Committed transaction.
2023-11-26 12:28:50.574 +02:00 [DBG] Disposing transaction.
2023-11-26 12:28:50.574 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:28:50.574 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:28:50.577 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:31:10.717 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:31:11.519 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:31:11.866 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:31:11.878 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:31:11.894 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:31:25.578 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:31:26.087 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:31:26.388 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:31:26.401 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:31:26.509 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:31:26.512 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:31:26.512 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:31:26.512 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:31:26.518 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:31:26.518 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:31:26.518 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-26 12:31:26.518 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-26 12:31:26.677 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:31:32.362 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:31:33.016 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:31:33.284 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:31:33.333 +02:00 [DBG] Migrating using database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.345 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.367 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.379 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:31:33.385 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-11-26 12:31:33.387 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.392 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.402 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:31:33.441 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:31:33.445 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.452 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.455 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.456 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.456 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-26 12:31:33.457 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-26 12:31:33.457 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.457 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.457 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:31:33.458 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-11-26 12:31:33.458 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.459 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.487 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:31:33.488 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-26 12:31:33.488 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.488 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.489 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:31:33.490 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-26 12:31:33.500 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:31:33.500 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.500 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.523 +02:00 [INF] Applying migration '20231126103126_tests'.
2023-11-26 12:31:33.644 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:33.645 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:33.647 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:31:33.652 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:31:33.654 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:33.654 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:33.655 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id")
);
2023-11-26 12:31:33.656 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointOfIntrest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfIntrest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "TestId" INTEGER NULL,
    CONSTRAINT "FK_PointOfIntrest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PointOfIntrest_test_TestId" FOREIGN KEY ("TestId") REFERENCES "test" ("Id")
);
2023-11-26 12:31:33.657 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:33.657 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:33.657 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:31:33.658 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointOfIntrest" ("Id", "CityId", "Description", "Name", "TestId")
SELECT "Id", "CityId", "Description", "Name", "TestId"
FROM "PointOfIntrest";
2023-11-26 12:31:33.661 +02:00 [DBG] Committing transaction.
2023-11-26 12:31:33.664 +02:00 [DBG] Committed transaction.
2023-11-26 12:31:33.666 +02:00 [DBG] Disposing transaction.
2023-11-26 12:31:33.666 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:33.666 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:33.666 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-11-26 12:31:33.666 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-11-26 12:31:33.667 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:31:33.667 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:31:33.667 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:33.667 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:33.667 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointOfIntrest";
2023-11-26 12:31:33.667 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointOfIntrest";
2023-11-26 12:31:33.667 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:33.668 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:33.668 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointOfIntrest" RENAME TO "PointOfIntrest";
2023-11-26 12:31:33.669 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointOfIntrest" RENAME TO "PointOfIntrest";
2023-11-26 12:31:33.669 +02:00 [DBG] Committing transaction.
2023-11-26 12:31:33.670 +02:00 [DBG] Committed transaction.
2023-11-26 12:31:33.670 +02:00 [DBG] Disposing transaction.
2023-11-26 12:31:35.334 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:35.335 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:35.335 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-11-26 12:31:35.335 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-11-26 12:31:35.335 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-26 12:31:35.335 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-26 12:31:35.336 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:35.336 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:35.336 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_CityId" ON "PointOfIntrest" ("CityId");
2023-11-26 12:31:35.336 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_CityId" ON "PointOfIntrest" ("CityId");
2023-11-26 12:31:35.336 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:35.337 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:35.337 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:31:35.337 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfIntrest_TestId" ON "PointOfIntrest" ("TestId");
2023-11-26 12:31:35.337 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-26 12:31:35.337 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-26 12:31:35.337 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231126103126_tests', '6.0.0');
2023-11-26 12:31:35.337 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231126103126_tests', '6.0.0');
2023-11-26 12:31:35.338 +02:00 [DBG] Committing transaction.
2023-11-26 12:31:35.349 +02:00 [DBG] Committed transaction.
2023-11-26 12:31:35.350 +02:00 [DBG] Disposing transaction.
2023-11-26 12:31:35.350 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:31:35.350 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:31:35.352 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:33:42.520 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:33:42.692 +02:00 [DBG] Hosting starting
2023-11-26 12:33:42.817 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:33:42.874 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:33:42.877 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:33:42.880 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:33:42.883 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:33:42.887 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:33:42.888 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:33:42.890 +02:00 [INF] Hosting environment: Development
2023-11-26 12:33:42.891 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:33:42.892 +02:00 [DBG] Hosting started
2023-11-26 12:33:43.031 +02:00 [DBG] Connection id "0HMVEDCKPU4V4" accepted.
2023-11-26 12:33:43.031 +02:00 [DBG] Connection id "0HMVEDCKPU4V3" accepted.
2023-11-26 12:33:43.035 +02:00 [DBG] Connection id "0HMVEDCKPU4V4" started.
2023-11-26 12:33:43.036 +02:00 [DBG] Connection id "0HMVEDCKPU4V3" started.
2023-11-26 12:33:43.046 +02:00 [DBG] Connection id "0HMVEDCKPU4V4" received FIN.
2023-11-26 12:33:43.046 +02:00 [DBG] Connection id "0HMVEDCKPU4V3" received FIN.
2023-11-26 12:33:43.069 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:33:43.069 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:33:43.120 +02:00 [DBG] Connection id "0HMVEDCKPU4V4" stopped.
2023-11-26 12:33:43.120 +02:00 [DBG] Connection id "0HMVEDCKPU4V3" stopped.
2023-11-26 12:33:43.127 +02:00 [DBG] Connection id "0HMVEDCKPU4V4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:33:43.127 +02:00 [DBG] Connection id "0HMVEDCKPU4V3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:33:43.190 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" accepted.
2023-11-26 12:33:43.192 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" started.
2023-11-26 12:33:43.287 +02:00 [DBG] Connection 0HMVEDCKPU4V5 established using the following protocol: "Tls12"
2023-11-26 12:33:43.336 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:33:43.364 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:33:43.541 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:33:43.646 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:33:43.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 316.4090ms
2023-11-26 12:33:43.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:33:43.663 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:33:43.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.4618ms
2023-11-26 12:33:43.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.3920ms
2023-11-26 12:33:43.768 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:33:44.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 231.9706ms
2023-11-26 12:33:53.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:33:53.771 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:33:53.855 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:33:53.871 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:33:53.878 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:33:53.885 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:33:53.982 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:33:53.987 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:33:53.990 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:33:53.994 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:33:53.997 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:33:54.000 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:33:54.004 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:33:54.944 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:33:54.961 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:33:54.965 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:33:54.970 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:33:54.974 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:33:54.976 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:33:54.982 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:33:54.987 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:33:54.992 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:33:54.996 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:33:54.998 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:33:55.000 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:33:55.004 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:33:55.106 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:33:56.321 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:33:57.382 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:33:57.593 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:33:57.721 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:33:58.434 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6], [Property: PointOfIntrest.TestId (int?) FK Index, 7] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name, p.TestId
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfIntrest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:33:58.567 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:33:58.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (98ms).
2023-11-26 12:33:58.700 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:33:58.751 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:33:58.790 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:33:58.893 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:33:58.985 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:33:59.094 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:33:59.274 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:33:59.285 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:33:59.304 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:33:59.358 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:33:59.369 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:33:59.371 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:33:59.373 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:33:59.376 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:33:59.380 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:33:59.726 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5709.3233ms
2023-11-26 12:33:59.730 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:33:59.735 +02:00 [INF] Reqest /api/cities/1 :5959.5262 ms
2023-11-26 12:33:59.743 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:33:59.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 200 121 application/json;+charset=utf-8 5988.5071ms
2023-11-26 12:36:11.346 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" is closing.
2023-11-26 12:36:11.348 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" is closed. The last processed stream ID was 9.
2023-11-26 12:36:11.351 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" received FIN.
2023-11-26 12:36:11.354 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" stopped.
2023-11-26 12:36:11.355 +02:00 [DBG] Connection id "0HMVEDCKPU4V5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:37:37.626 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:37:37.802 +02:00 [DBG] Hosting starting
2023-11-26 12:37:37.935 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:37:37.990 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:37:37.992 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:37:37.995 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:37:37.997 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:37:37.999 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:37:38.000 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:37:38.003 +02:00 [INF] Hosting environment: Development
2023-11-26 12:37:38.005 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:37:38.006 +02:00 [DBG] Hosting started
2023-11-26 12:37:38.019 +02:00 [DBG] Connection id "0HMVEDEQQURC3" accepted.
2023-11-26 12:37:38.019 +02:00 [DBG] Connection id "0HMVEDEQQURC2" accepted.
2023-11-26 12:37:38.022 +02:00 [DBG] Connection id "0HMVEDEQQURC3" started.
2023-11-26 12:37:38.023 +02:00 [DBG] Connection id "0HMVEDEQQURC2" started.
2023-11-26 12:37:38.034 +02:00 [DBG] Connection id "0HMVEDEQQURC2" received FIN.
2023-11-26 12:37:38.034 +02:00 [DBG] Connection id "0HMVEDEQQURC3" received FIN.
2023-11-26 12:37:38.062 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:37:38.063 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:37:38.077 +02:00 [DBG] Connection id "0HMVEDEQQURC4" accepted.
2023-11-26 12:37:38.098 +02:00 [DBG] Connection id "0HMVEDEQQURC3" stopped.
2023-11-26 12:37:38.102 +02:00 [DBG] Connection id "0HMVEDEQQURC2" stopped.
2023-11-26 12:37:38.104 +02:00 [DBG] Connection id "0HMVEDEQQURC4" started.
2023-11-26 12:37:38.106 +02:00 [DBG] Connection id "0HMVEDEQQURC3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:37:38.107 +02:00 [DBG] Connection id "0HMVEDEQQURC2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:37:38.155 +02:00 [DBG] Connection 0HMVEDEQQURC4 established using the following protocol: "Tls12"
2023-11-26 12:37:38.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:37:38.296 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:37:38.441 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:37:38.579 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:37:38.586 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:37:38.586 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:37:38.586 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 358.7145ms
2023-11-26 12:37:38.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.2949ms
2023-11-26 12:37:38.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.5568ms
2023-11-26 12:37:39.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:37:39.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.5433ms
2023-11-26 12:38:08.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:38:08.368 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:38:08.448 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:38:08.469 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:38:08.477 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:38:08.482 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:38:08.571 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:38:08.579 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:38:08.582 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:38:08.586 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:38:08.591 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:38:08.594 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:38:08.598 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:38:09.521 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:38:09.546 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:38:09.554 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:38:09.560 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:38:09.562 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:38:09.564 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:38:09.570 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:38:09.576 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:38:09.580 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:38:09.584 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:38:09.588 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:38:09.590 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:38:09.593 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:38:09.701 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:38:10.877 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:38:11.902 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:38:12.117 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .ThenInclude(p => p.Count)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:38:12.240 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 3628.4321ms
2023-11-26 12:38:12.244 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:38:12.247 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.Count' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepositry.GetCityAsync(Int32 cityId, Boolean includePointOfIntrest) in C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\Services\CityInfoRepositry.cs:line 30
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 cityId, Boolean includePointsOfIntrest) in C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CityInfo.API.Middelware.TimingMiddleWare.Invoke(HttpContext context) in C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\Middelware\TimingMiddleWare.cs:line 15
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-26 12:38:12.364 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:38:12.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 500 - text/plain;+charset=utf-8 4017.6116ms
2023-11-26 12:38:56.226 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:38:56.402 +02:00 [DBG] Hosting starting
2023-11-26 12:38:56.551 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:38:56.625 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:38:56.631 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:38:56.645 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:38:56.659 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:38:56.663 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:38:56.665 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:38:56.669 +02:00 [INF] Hosting environment: Development
2023-11-26 12:38:56.672 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:38:56.674 +02:00 [DBG] Hosting started
2023-11-26 12:38:57.082 +02:00 [DBG] Connection id "0HMVEDFICV8JM" received FIN.
2023-11-26 12:38:57.084 +02:00 [DBG] Connection id "0HMVEDFICV8JL" accepted.
2023-11-26 12:38:57.085 +02:00 [DBG] Connection id "0HMVEDFICV8JM" accepted.
2023-11-26 12:38:57.086 +02:00 [DBG] Connection id "0HMVEDFICV8JL" received FIN.
2023-11-26 12:38:57.088 +02:00 [DBG] Connection id "0HMVEDFICV8JL" started.
2023-11-26 12:38:57.088 +02:00 [DBG] Connection id "0HMVEDFICV8JM" started.
2023-11-26 12:38:57.094 +02:00 [DBG] Connection id "0HMVEDFICV8JN" accepted.
2023-11-26 12:38:57.097 +02:00 [DBG] Connection id "0HMVEDFICV8JN" started.
2023-11-26 12:38:57.119 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:38:57.119 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:38:57.163 +02:00 [DBG] Connection id "0HMVEDFICV8JM" stopped.
2023-11-26 12:38:57.164 +02:00 [DBG] Connection id "0HMVEDFICV8JL" stopped.
2023-11-26 12:38:57.166 +02:00 [DBG] Connection id "0HMVEDFICV8JM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:38:57.167 +02:00 [DBG] Connection id "0HMVEDFICV8JL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:38:57.192 +02:00 [DBG] Connection 0HMVEDFICV8JN established using the following protocol: "Tls12"
2023-11-26 12:38:57.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:38:57.341 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:38:57.543 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:38:57.717 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:38:57.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:38:57.721 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:38:57.725 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 451.8589ms
2023-11-26 12:38:57.728 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.8389ms
2023-11-26 12:38:57.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.8259ms
2023-11-26 12:38:57.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:38:58.110 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.3375ms
2023-11-26 12:39:10.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:39:10.693 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:39:10.780 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:39:10.795 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:39:10.804 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:39:10.813 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:39:10.909 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:39:10.914 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:39:10.918 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:39:10.920 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:39:10.924 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:39:10.927 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:39:10.930 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:39:11.875 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:39:11.896 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:39:11.903 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:39:11.908 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:39:11.911 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:39:11.913 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:39:11.920 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:39:11.925 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:39:11.929 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:39:11.936 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:39:11.939 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:39:11.941 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:39:11.944 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:39:12.045 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:39:13.209 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:39:14.327 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:39:14.521 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:39:14.649 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:39:15.408 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6], [Property: PointOfIntrest.TestId (int?) FK Index, 7] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name, p.TestId
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfIntrest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:39:15.531 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:39:15.637 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2023-11-26 12:39:15.660 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:39:15.710 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:39:15.749 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:39:15.819 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfIntrest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-11-26 12:39:15.908 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:39:15.995 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:39:16.062 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:39:16.074 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:39:16.090 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:39:16.144 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:39:16.156 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:39:16.160 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:39:16.163 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:39:16.167 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:39:16.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:39:16.504 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5561.8716ms
2023-11-26 12:39:16.508 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:39:16.514 +02:00 [INF] Reqest /api/cities/1 :5815.9293 ms
2023-11-26 12:39:16.521 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:39:16.528 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 200 144 application/json;+charset=utf-8 5843.1101ms
2023-11-26 12:40:00.071 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:40:00.269 +02:00 [DBG] Hosting starting
2023-11-26 12:40:00.412 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:40:00.471 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:40:00.473 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:40:00.474 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:40:00.475 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:40:00.476 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:40:00.477 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:40:00.479 +02:00 [INF] Hosting environment: Development
2023-11-26 12:40:00.480 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:40:00.482 +02:00 [DBG] Hosting started
2023-11-26 12:40:00.827 +02:00 [DBG] Connection id "0HMVEDG5CTSC1" received FIN.
2023-11-26 12:40:00.838 +02:00 [DBG] Connection id "0HMVEDG5CTSC1" accepted.
2023-11-26 12:40:00.841 +02:00 [DBG] Connection id "0HMVEDG5CTSC1" started.
2023-11-26 12:40:00.842 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" accepted.
2023-11-26 12:40:00.847 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" started.
2023-11-26 12:40:00.867 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:40:00.903 +02:00 [DBG] Connection id "0HMVEDG5CTSC1" stopped.
2023-11-26 12:40:00.908 +02:00 [DBG] Connection id "0HMVEDG5CTSC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:40:00.926 +02:00 [DBG] Connection 0HMVEDG5CTSC2 established using the following protocol: "Tls12"
2023-11-26 12:40:01.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:40:01.139 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:40:01.271 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:40:01.400 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:40:01.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:40:01.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:40:01.408 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 303.2712ms
2023-11-26 12:40:01.415 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.2705ms
2023-11-26 12:40:01.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.8569ms
2023-11-26 12:40:01.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:40:01.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.1530ms
2023-11-26 12:40:10.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:40:10.235 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:40:10.324 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:40:10.340 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:40:10.346 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:40:10.357 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:40:10.473 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:40:10.479 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:40:10.483 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:40:10.487 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:40:10.491 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:40:10.493 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:40:10.497 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:40:11.469 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:40:11.491 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:40:11.498 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:40:11.503 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:40:11.506 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:40:11.508 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:40:11.513 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:40:11.519 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:40:11.523 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:40:11.524 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:40:11.526 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:40:11.528 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:40:11.532 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:40:11.629 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:40:12.785 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:40:13.804 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:40:13.997 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .ThenInclude(p => p.Test)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:40:14.129 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:40:14.205 +02:00 [DBG] Including navigation: 'PointOfIntrest.Test'.
2023-11-26 12:40:14.900 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6], [Property: PointOfIntrest.TestId (int?) FK Index, 7] }
                3 -> Dictionary<IProperty, int> { [Property: test.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: test.Name (string) Required, 9], [Property: test.PointOfIntrestId (int) Required FK Index, 10] }
                4 -> 3
                5 -> 8
            SELECT t.Id, t.Description, t.Name, t0.Id, t0.CityId, t0.Description, t0.Name, t0.TestId, t0.Id0, t0.Name0, t0.PointOfIntrestId
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT p.Id, p.CityId, p.Description, p.Name, p.TestId, t1.Id AS Id0, t1.Name AS Name0, t1.PointOfIntrestId
                FROM PointOfIntrest AS p
                LEFT JOIN test AS t1 ON p.TestId == t1.Id
            ) AS t0 ON t.Id == t0.CityId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:40:15.029 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:40:15.136 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (95ms).
2023-11-26 12:40:15.160 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:40:15.209 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:40:15.250 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "t0"."Id", "t0"."CityId", "t0"."Description", "t0"."Name", "t0"."TestId", "t0"."Id0", "t0"."Name0", "t0"."PointOfIntrestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId", "t1"."Id" AS "Id0", "t1"."Name" AS "Name0", "t1"."PointOfIntrestId"
    FROM "PointOfIntrest" AS "p"
    LEFT JOIN "test" AS "t1" ON "p"."TestId" = "t1"."Id"
) AS "t0" ON "t"."Id" = "t0"."CityId"
ORDER BY "t"."Id", "t0"."Id"
2023-11-26 12:40:15.328 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "t0"."Id", "t0"."CityId", "t0"."Description", "t0"."Name", "t0"."TestId", "t0"."Id0", "t0"."Name0", "t0"."PointOfIntrestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId", "t1"."Id" AS "Id0", "t1"."Name" AS "Name0", "t1"."PointOfIntrestId"
    FROM "PointOfIntrest" AS "p"
    LEFT JOIN "test" AS "t1" ON "p"."TestId" = "t1"."Id"
) AS "t0" ON "t"."Id" = "t0"."CityId"
ORDER BY "t"."Id", "t0"."Id"
2023-11-26 12:40:15.414 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:40:15.512 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:40:15.578 +02:00 [DBG] Context 'CityInfoContext' started tracking 'test' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:40:15.621 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:40:15.631 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:40:15.647 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:40:15.703 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:40:15.713 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:40:15.714 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:40:15.719 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:40:15.722 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:40:15.726 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:40:16.146 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5634.8051ms
2023-11-26 12:40:16.153 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:40:16.158 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfIntrest'. Path 'pointOfIntrests[0].test.pointOfIntrest.city.pointOfIntrests'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CityInfo.API.Middelware.TimingMiddleWare.Invoke(HttpContext context) in C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\Middelware\TimingMiddleWare.cs:line 15
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-26 12:40:16.298 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:40:16.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 500 - text/plain;+charset=utf-8 6081.9594ms
2023-11-26 12:42:26.981 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" is closing.
2023-11-26 12:42:26.984 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" is closed. The last processed stream ID was 9.
2023-11-26 12:42:26.993 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" received FIN.
2023-11-26 12:42:26.996 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" stopped.
2023-11-26 12:42:27.000 +02:00 [DBG] Connection id "0HMVEDG5CTSC2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:42:37.022 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:42:37.143 +02:00 [DBG] Hosting starting
2023-11-26 12:42:37.293 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:42:37.324 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:42:37.325 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:42:37.327 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:42:37.329 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:42:37.330 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:42:37.331 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:42:37.332 +02:00 [INF] Hosting environment: Development
2023-11-26 12:42:37.334 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:42:37.335 +02:00 [DBG] Hosting started
2023-11-26 12:42:37.468 +02:00 [DBG] Connection id "0HMVEDHK2P1QR" received FIN.
2023-11-26 12:42:37.476 +02:00 [DBG] Connection id "0HMVEDHK2P1QS" received FIN.
2023-11-26 12:42:37.478 +02:00 [DBG] Connection id "0HMVEDHK2P1QS" accepted.
2023-11-26 12:42:37.478 +02:00 [DBG] Connection id "0HMVEDHK2P1QR" accepted.
2023-11-26 12:42:37.483 +02:00 [DBG] Connection id "0HMVEDHK2P1QS" started.
2023-11-26 12:42:37.513 +02:00 [DBG] Connection id "0HMVEDHK2P1QR" started.
2023-11-26 12:42:37.515 +02:00 [DBG] Connection id "0HMVEDHK2P1QT" accepted.
2023-11-26 12:42:37.523 +02:00 [DBG] Connection id "0HMVEDHK2P1QT" started.
2023-11-26 12:42:37.543 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:42:37.543 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:42:37.594 +02:00 [DBG] Connection id "0HMVEDHK2P1QS" stopped.
2023-11-26 12:42:37.602 +02:00 [DBG] Connection id "0HMVEDHK2P1QR" stopped.
2023-11-26 12:42:37.604 +02:00 [DBG] Connection id "0HMVEDHK2P1QS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:42:37.604 +02:00 [DBG] Connection id "0HMVEDHK2P1QR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:42:37.625 +02:00 [DBG] Connection 0HMVEDHK2P1QT established using the following protocol: "Tls12"
2023-11-26 12:42:37.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:42:37.721 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:42:37.886 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:42:38.030 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:42:38.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 360.9638ms
2023-11-26 12:42:38.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:42:38.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:42:38.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.5515ms
2023-11-26 12:42:38.051 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.4682ms
2023-11-26 12:42:38.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:42:38.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 288.1477ms
2023-11-26 12:43:05.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:43:05.404 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:43:05.510 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:43:05.522 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:43:05.528 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:43:05.535 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:43:05.616 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:43:05.624 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:43:05.627 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:43:05.631 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:43:05.635 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:43:05.636 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:43:05.640 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:43:06.605 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:43:06.626 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:43:06.636 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:43:06.641 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:43:06.643 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:43:06.645 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:43:06.651 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:43:06.657 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:43:06.662 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:43:06.666 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:43:06.669 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:43:06.671 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:43:06.673 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:43:06.771 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:43:07.899 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:43:08.949 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:43:09.143 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .ThenInclude(p => p.Test)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:43:09.266 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:43:09.354 +02:00 [DBG] Including navigation: 'PointOfIntrest.Test'.
2023-11-26 12:43:10.034 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6], [Property: PointOfIntrest.TestId (int?) FK Index, 7] }
                3 -> Dictionary<IProperty, int> { [Property: test.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: test.Name (string) Required, 9], [Property: test.PointOfIntrestId (int) Required FK Index, 10] }
                4 -> 3
                5 -> 8
            SELECT t.Id, t.Description, t.Name, t0.Id, t0.CityId, t0.Description, t0.Name, t0.TestId, t0.Id0, t0.Name0, t0.PointOfIntrestId
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT p.Id, p.CityId, p.Description, p.Name, p.TestId, t1.Id AS Id0, t1.Name AS Name0, t1.PointOfIntrestId
                FROM PointOfIntrest AS p
                LEFT JOIN test AS t1 ON p.TestId == t1.Id
            ) AS t0 ON t.Id == t0.CityId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:43:10.157 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:43:10.264 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (92ms).
2023-11-26 12:43:10.288 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:43:10.337 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:43:10.377 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "t0"."Id", "t0"."CityId", "t0"."Description", "t0"."Name", "t0"."TestId", "t0"."Id0", "t0"."Name0", "t0"."PointOfIntrestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId", "t1"."Id" AS "Id0", "t1"."Name" AS "Name0", "t1"."PointOfIntrestId"
    FROM "PointOfIntrest" AS "p"
    LEFT JOIN "test" AS "t1" ON "p"."TestId" = "t1"."Id"
) AS "t0" ON "t"."Id" = "t0"."CityId"
ORDER BY "t"."Id", "t0"."Id"
2023-11-26 12:43:10.444 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "t0"."Id", "t0"."CityId", "t0"."Description", "t0"."Name", "t0"."TestId", "t0"."Id0", "t0"."Name0", "t0"."PointOfIntrestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId", "t1"."Id" AS "Id0", "t1"."Name" AS "Name0", "t1"."PointOfIntrestId"
    FROM "PointOfIntrest" AS "p"
    LEFT JOIN "test" AS "t1" ON "p"."TestId" = "t1"."Id"
) AS "t0" ON "t"."Id" = "t0"."CityId"
ORDER BY "t"."Id", "t0"."Id"
2023-11-26 12:43:10.544 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:43:10.636 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:43:10.702 +02:00 [DBG] Context 'CityInfoContext' started tracking 'test' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:43:10.738 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:43:10.750 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:43:10.767 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:43:10.854 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:43:10.870 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:43:10.872 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:43:10.874 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:43:10.877 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:43:10.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:43:11.213 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5562.5469ms
2023-11-26 12:43:11.221 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:43:11.228 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'pointOfIntrest' with type 'CityInfo.API.Models.PointOfIntrestsDto'. Path 'pointOfIntrests[0].test'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at CityInfo.API.Middelware.TimingMiddleWare.Invoke(HttpContext context) in C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\Middelware\TimingMiddleWare.cs:line 15
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-11-26 12:43:11.337 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:43:11.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 500 - text/plain;+charset=utf-8 5948.0375ms
2023-11-26 12:43:46.401 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-26 12:43:46.573 +02:00 [DBG] Hosting starting
2023-11-26 12:43:46.680 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D41854D7BDA48EE00ADD8988344AACD78FDEE082)
2023-11-26 12:43:46.803 +02:00 [INF] Now listening on: https://localhost:7010
2023-11-26 12:43:46.804 +02:00 [INF] Now listening on: http://localhost:5255
2023-11-26 12:43:46.805 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-26 12:43:46.822 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-26 12:43:46.823 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-26 12:43:46.824 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-26 12:43:46.825 +02:00 [INF] Hosting environment: Development
2023-11-26 12:43:46.826 +02:00 [INF] Content root path: C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\
2023-11-26 12:43:46.828 +02:00 [DBG] Hosting started
2023-11-26 12:43:47.297 +02:00 [DBG] Connection id "0HMVEDI8SMII0" received FIN.
2023-11-26 12:43:47.297 +02:00 [DBG] Connection id "0HMVEDI8SMIHV" received FIN.
2023-11-26 12:43:47.315 +02:00 [DBG] Connection id "0HMVEDI8SMIHV" accepted.
2023-11-26 12:43:47.315 +02:00 [DBG] Connection id "0HMVEDI8SMII0" accepted.
2023-11-26 12:43:47.323 +02:00 [DBG] Connection id "0HMVEDI8SMIHV" started.
2023-11-26 12:43:47.324 +02:00 [DBG] Connection id "0HMVEDI8SMII1" accepted.
2023-11-26 12:43:47.324 +02:00 [DBG] Connection id "0HMVEDI8SMII0" started.
2023-11-26 12:43:47.328 +02:00 [DBG] Connection id "0HMVEDI8SMII1" started.
2023-11-26 12:43:47.353 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:43:47.353 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-26 12:43:47.399 +02:00 [DBG] Connection id "0HMVEDI8SMII0" stopped.
2023-11-26 12:43:47.399 +02:00 [DBG] Connection id "0HMVEDI8SMIHV" stopped.
2023-11-26 12:43:47.402 +02:00 [DBG] Connection id "0HMVEDI8SMII0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:43:47.403 +02:00 [DBG] Connection id "0HMVEDI8SMIHV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-26 12:43:47.420 +02:00 [DBG] Connection 0HMVEDI8SMII1 established using the following protocol: "Tls12"
2023-11-26 12:43:47.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/index.html - -
2023-11-26 12:43:47.495 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-26 12:43:47.683 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-26 12:43:47.844 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-26 12:43:47.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_vs/browserLink - -
2023-11-26 12:43:47.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - -
2023-11-26 12:43:47.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/index.html - - - 200 - text/html;charset=utf-8 402.3874ms
2023-11-26 12:43:47.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.8481ms
2023-11-26 12:43:47.874 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.0223ms
2023-11-26 12:43:47.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - -
2023-11-26 12:43:48.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 268.8868ms
2023-11-26 12:43:54.376 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - -
2023-11-26 12:43:54.385 +02:00 [DBG] The request path  does not match the path filter
2023-11-26 12:43:54.478 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-11-26 12:43:54.496 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-11-26 12:43:54.503 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:43:54.509 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:43:54.606 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-26 12:43:54.611 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-26 12:43:54.616 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-26 12:43:54.619 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-26 12:43:54.623 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-26 12:43:54.626 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-26 12:43:54.633 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:43:55.634 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-26 12:43:55.659 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:43:55.667 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-26 12:43:55.672 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:43:55.674 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:43:55.676 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-26 12:43:55.685 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-26 12:43:55.690 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:43:55.696 +02:00 [DBG] Attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean' using the name 'includePointsOfIntrest' in request data ...
2023-11-26 12:43:55.702 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:43:55.704 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:43:55.707 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean' ...
2023-11-26 12:43:55.709 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfIntrest' of type 'System.Boolean'.
2023-11-26 12:43:55.826 +02:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:ConfigureWarnings', configuration added for 'Sqlite'.
2023-11-26 12:43:56.998 +02:00 [WRN] Navigations 'PointOfIntrest.Test' and 'test.PointOfIntrest' were separated into two relationships since the [ForeignKey] attribute was specified on navigations on both sides.
2023-11-26 12:43:58.013 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-26 12:43:58.203 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfIntrests)
    .ThenInclude(p => p.Test)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-26 12:43:58.330 +02:00 [DBG] Including navigation: 'City.PointOfIntrests'.
2023-11-26 12:43:58.403 +02:00 [DBG] Including navigation: 'PointOfIntrest.Test'.
2023-11-26 12:43:59.104 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfIntrest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfIntrest.CityId (int) Required FK Index, 4], [Property: PointOfIntrest.Description (string) Required MaxLength(200), 5], [Property: PointOfIntrest.Name (string) Required MaxLength(50), 6], [Property: PointOfIntrest.TestId (int?) FK Index, 7] }
                3 -> Dictionary<IProperty, int> { [Property: test.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: test.Name (string) Required, 9], [Property: test.PointOfIntrestId (int) Required FK Index, 10] }
                4 -> 3
                5 -> 8
            SELECT t.Id, t.Description, t.Name, t0.Id, t0.CityId, t0.Description, t0.Name, t0.TestId, t0.Id0, t0.Name0, t0.PointOfIntrestId
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT p.Id, p.CityId, p.Description, p.Name, p.TestId, t1.Id AS Id0, t1.Name AS Name0, t1.PointOfIntrestId
                FROM PointOfIntrest AS p
                LEFT JOIN test AS t1 ON p.TestId == t1.Id
            ) AS t0 ON t.Id == t0.CityId
            ORDER BY t.Id ASC, t0.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-26 12:43:59.224 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-26 12:43:59.325 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (91ms).
2023-11-26 12:43:59.349 +02:00 [DBG] Opening connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:43:59.404 +02:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:43:59.447 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "t0"."Id", "t0"."CityId", "t0"."Description", "t0"."Name", "t0"."TestId", "t0"."Id0", "t0"."Name0", "t0"."PointOfIntrestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId", "t1"."Id" AS "Id0", "t1"."Name" AS "Name0", "t1"."PointOfIntrestId"
    FROM "PointOfIntrest" AS "p"
    LEFT JOIN "test" AS "t1" ON "p"."TestId" = "t1"."Id"
) AS "t0" ON "t"."Id" = "t0"."CityId"
ORDER BY "t"."Id", "t0"."Id"
2023-11-26 12:43:59.518 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "t0"."Id", "t0"."CityId", "t0"."Description", "t0"."Name", "t0"."TestId", "t0"."Id0", "t0"."Name0", "t0"."PointOfIntrestId"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN (
    SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name", "p"."TestId", "t1"."Id" AS "Id0", "t1"."Name" AS "Name0", "t1"."PointOfIntrestId"
    FROM "PointOfIntrest" AS "p"
    LEFT JOIN "test" AS "t1" ON "p"."TestId" = "t1"."Id"
) AS "t0" ON "t"."Id" = "t0"."CityId"
ORDER BY "t"."Id", "t0"."Id"
2023-11-26 12:43:59.604 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:43:59.699 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfIntrest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:43:59.768 +02:00 [DBG] Context 'CityInfoContext' started tracking 'test' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-26 12:43:59.814 +02:00 [DBG] A data reader was disposed.
2023-11-26 12:43:59.826 +02:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Qotayba\source\repos\CityInfo\CityInfo.API\cityInfo2.db'.
2023-11-26 12:43:59.846 +02:00 [DBG] Closed connection to database 'main' on server 'cityInfo2.db'.
2023-11-26 12:43:59.905 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-26 12:43:59.918 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-26 12:43:59.920 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-26 12:43:59.923 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-26 12:43:59.926 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-26 12:43:59.931 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-11-26 12:44:00.268 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5621.9388ms
2023-11-26 12:44:00.272 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-11-26 12:44:00.277 +02:00 [INF] Reqest /api/cities/1 :5885.8578 ms
2023-11-26 12:44:00.285 +02:00 [DBG] 'CityInfoContext' disposed.
2023-11-26 12:44:00.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7010/api/cities/1?includePointsOfIntrest=true - - - 200 183 application/json;+charset=utf-8 5915.8065ms
